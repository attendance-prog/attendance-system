<!DOCTYPE html>
<html>
<head>
  <title>GO GREEN â€“ Student Attendance</title>
</head>
<body>
<h2>Mark Attendance</h2>

<input id="name" placeholder="Student Name">
<input id="roll" placeholder="Roll No">
<button onclick="mark()">Submit</button>

<script>
const urlParams = new URLSearchParams(window.location.search);
const sessionId = urlParams.get("sessionId");

function mark() {
  navigator.geolocation.getCurrentPosition(pos => {
    const lat = pos.coords.latitude;
    const lng = pos.coords.longitude;
    const name = document.getElementById("name").value;
    const roll = document.getElementById("roll").value;

    fetch(`${API_URL}?action=markStudentAttendance&sessionId=${sessionId}&name=${name}&roll=${roll}&lat=${lat}&lng=${lng}`)
      .then(r => r.text())
      .then(alert);
  });
}
</script>
</body>
</html>
